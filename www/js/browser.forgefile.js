(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()({1:[function(require,module,exports){
(function(e){"use strict";var t=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=module.exports={};function modelRdy_defer(e,t){e._server_id&&!FileSystem._tmp_objects[e._server_id]?t(e):setTimeout(function(){modelRdy_defer(e,t)},200)}function waitModelReady(e){return new Promise(function(t,o){modelRdy_defer(e,t)})}var r=function(e){function ForgeFileDerivativesItem(e){_classCallCheck(this,ForgeFileDerivativesItem);var t=_possibleConstructorReturn(this,(ForgeFileDerivativesItem.__proto__||Object.getPrototypeOf(ForgeFileDerivativesItem)).call(this));return e||(e={}),null==(null!=e?e.name:void 0)&&(e.name="unnamed"),null==(null!=e?e.path:void 0)&&(e.path="."),t.add_attr({name:e.name,path:e.path}),t._name=t.name,t}return _inherits(ForgeFileDerivativesItem,Model),t(ForgeFileDerivativesItem,[{key:"add_child",value:function(e){this._children.push(e)}},{key:"accept_child",value:function(e){return!1}}]),ForgeFileDerivativesItem}();o.ForgeFileDerivativesItem=r;var n=function(e){function ForgeFileItem(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Forge File";_classCallCheck(this,ForgeFileItem);var t=_possibleConstructorReturn(this,(ForgeFileItem.__proto__||Object.getPrototypeOf(ForgeFileItem)).call(this)),o={_name:e,_viewable:!1,_children:[],name:e,filepath:new Path,state:new Choice(0,["Initial","Uploading","Uploading completed","Uploading to forge","Upload to forge completed","Translating","Translating completed","Export completed","Failed"]),urn:"",ask_token:!1,oauth:"",bucket_key:""};return t.add_attr(o),t}return _inherits(ForgeFileItem,Model),t(ForgeFileItem,[{key:"add_child",value:function(e){this._children.push(e)}},{key:"accept_child",value:function(e){return e instanceof r}}]),ForgeFileItem}();o.ForgeFileItem=n;var l=function(e){function ThemeModel(){_classCallCheck(this,ThemeModel);var e=_possibleConstructorReturn(this,(ThemeModel.__proto__||Object.getPrototypeOf(ThemeModel)).call(this));return e.add_attr({name:"",owner:"",username:"",creation:Date.now(),listModel:[]}),e}return _inherits(ThemeModel,Model),t(ThemeModel,[{key:"get_obj",value:function(){var e=this;return new Promise(function(t,o){waitModelReady(e).then(function(){for(var o={name:e.name.get(),owner:e.owner.get(),username:e.username.get(),creation:e.creation.get(),_server_id:e._server_id},r=[],n=0;n<e.listModel.length;n++)console.log("TEST"),console.log(e.listModel[n]),r.push(e.listModel[n].get_obj()),console.log("TEST2");Promise.all(r).then(function(e){o.listModel=e,t(o)})})})}}]),ThemeModel}();o.ThemeModel=l;var i=function(e){function NoteModel(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];_classCallCheck(this,NoteModel);var e=_possibleConstructorReturn(this,(NoteModel.__proto__||Object.getPrototypeOf(NoteModel)).call(this));return e.add_attr({title:"",color:"",owner:"",username:"",date:Date.now(),allObject:[],notes:[],display:!1,files:new Directory}),e}return _inherits(NoteModel,Model),t(NoteModel,[{key:"get_obj",value:function(){var e=this;return new Promise(function(t,o){waitModelReady(e).then(function(){var o={title:e.title.get(),color:e.color.get(),owner:e.owner.get(),username:e.username.get(),date:e.date.get(),display:e.display.get(),_server_id:e._server_id},r=[],n=[],l=[],i=0;for(i=0;i<e.notes.length;i++)n.push(e.notes[i].get_obj());for(i=0;i<e.files.length;i++)l.push(waitModelReady(e.files[i]));for(var a=0;a<e.allObject.length;a++){var s=e.allObject[a];r.push(waitModelReady(s))}Promise.all(r).then(function(e){o.allObject=e,Promise.all(l).then(function(e){o.files=e,Promise.all(n).then(function(e){o.notes=e,t(o)})})})})})}}]),NoteModel}();o.NoteModel=i;var a=function(e){function MessageModel(){_classCallCheck(this,MessageModel);var e=_possibleConstructorReturn(this,(MessageModel.__proto__||Object.getPrototypeOf(MessageModel)).call(this));return e.add_attr({username:"",owner:"",message:"",date:Date.now()}),e}return _inherits(MessageModel,Model),t(MessageModel,[{key:"get_obj",value:function(){var e=this;return new Promise(function(t,o){waitModelReady(e).then(function(){var o={username:e.username.get(),owner:e.owner.get(),message:e.message.get(),date:e.date.get(),_server_id:e._server_id};t(o)})})}}]),MessageModel}();o.MessageModel=a;var s=function(e){function FileModel(e){_classCallCheck(this,FileModel);var t=_possibleConstructorReturn(this,(FileModel.__proto__||Object.getPrototypeOf(FileModel)).call(this));return t.add_attr({username:"",owner:"",name:"",date:"",path:new Path}),t}return _inherits(FileModel,Model),t(FileModel,[{key:"get_obj",value:function(){var e=this;return new Promise(function(t,o){waitModelReady(e).then(function(){var o={username:e.username.get(),owner:e.owner.get(),name:e.name.get(),date:e.date.get(),_server_id:e._server_id};t(o)})})}}]),FileModel}();o.FileModel=s,e._createClass=t,e._classCallCheck=_classCallCheck,e._possibleConstructorReturn=_possibleConstructorReturn,e._inherits=_inherits,e._exports=o,e.modelRdy_defer=modelRdy_defer,e.waitModelReady=waitModelReady,e.ForgeFileDerivativesItem=r,e.ForgeFileItem=n,e.ThemeModel=l,e.NoteModel=i,e.MessageModel=a,e.FileModel=s}).call(window,window);

},{}]},{},[1])
//# sourceMappingURL=browser.forgefile.js.map
